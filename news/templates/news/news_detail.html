{% extends 'base.html' %}
{% load static %}

{% block title %}{{ post.title }}{% endblock %}

{% block header %}
<header class="masthead" style="background-image: url('{% static 'assets/img/news_detail-bg.jpg' %}')">
    <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <div class="site-heading">
                    <h1>{{ post.title }}</h1>
                    <h2 class="subheading">{{ post.subtitle }}</h2>
                </div>
            </div>
        </div>
    </div>
</header>
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row gx-4 gx-lg-5 justify-content-center">
        <div class="col-md-10 col-lg-8 col-xl-7">
            <div class="post-content">
                <!-- Текст поста -->
                <p>{{ post.text }}</p>

                <!-- Видео (если оно есть) -->
                {% if post.video_url %}
                <div class="post-video mt-4">
                    <div class="embed-responsive embed-responsive-16by9">
                        {{ post.video_url|safe }}
                    </div>
                </div>
                {% endif %}

                <!-- Проверяем, есть ли изображение -->
                {% if post.image %}
                <div class="post-image mt-3">
                    <img src="{{ post.image.url }}" alt="Изображение для новости #{{ post.id }}" class="img-fluid">
                </div>
                {% endif %}

                <!-- Дата публикации -->
                <p class="post-meta mt-3">Опубликовано {{ post.published_at|date:"j F Y" }}</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
